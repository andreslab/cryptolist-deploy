(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{233:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var a=n(0),r=n.n(a),c=n(379),o=n(4),l=n(54),i=n(380),s=n(5),u=n.n(s),p=n(14),m=n.n(p),f=n(2),g=n(20),d=n(60),h=n(110),b=n(80),v=n(106),y=n(56),E=n(43);function x(e){var t=e.coin,n=Object(E.k)(),a=t.percent_change_24h.includes("-")?"#f50057":"#1de9b6";return r.a.createElement(v.a,{onPress:function(){n.navigate("Detail",{id:t.id})}},r.a.createElement(f.a,{style:w.card},r.a.createElement(f.a,{style:w.spacing},r.a.createElement(f.a,null,r.a.createElement(g.a,{style:w.rank},Object(y.capitalize)(t.rank)),r.a.createElement(g.a,{style:w.symbol},Object(y.capitalize)(t.symbol)),r.a.createElement(g.a,{style:w.price},Object(y.capitalize)(t.price_usd)),r.a.createElement(g.a,{style:{fontSize:20,position:"absolute",top:8,right:10,color:a}},Object(y.capitalize)(t.percent_change_24h)," %")))))}var w=o.a.create({card:{flex:1,height:100},spacing:{flex:1,padding:5,margin:5,backgroundColor:"#78909c",borderRadius:20},rank:{position:"absolute",top:8,left:10,color:"#fff",fontSize:20},symbol:{fontSize:28,marginLeft:50,color:"#fff"},price:{fontSize:16,marginLeft:50,color:"#fff"}});function k(e){var t=e.coins;return r.a.createElement(b.a,{data:t,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return r.a.createElement(x,{coin:t})},contentContainerStyle:S.flatListContentContainer})}var S=o.a.create({flatListContentContainer:{marginTop:30,backgroundColor:"#23000"}});function _(){var e,t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,"https://api.coinlore.net/api/tickers/",n.next=4,m.a.awrap(fetch("https://api.coinlore.net/api/tickers/"));case 4:return e=n.sent,n.next=7,m.a.awrap(e.json());case 7:return t=n.sent,n.abrupt("return",t);case 11:throw n.prev=11,n.t0=n.catch(0),n.t0;case 14:case"end":return n.stop()}}),null,null,[[0,11]],Promise)}function j(e){var t,n;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("id: "+e),a.prev=1,"https://api.coinlore.net/api/ticker/",a.next=5,m.a.awrap(fetch("https://api.coinlore.net/api/ticker/?id="+e));case 5:return t=a.sent,a.next=8,m.a.awrap(t.json());case 8:return n=a.sent,a.abrupt("return",n);case 12:throw a.prev=12,a.t0=a.catch(1),a.t0;case 15:case"end":return a.stop()}}),null,null,[[1,12]],Promise)}function O(e){var t=e.name;return r.a.createElement(g.a,{style:C.greeting},"Welcome ",t)}var C=o.a.create({greeting:{marginLeft:12,marginTop:12,fontSize:20}}),L=Object(a.createContext)({auth:void 0,login:function(){},logout:function(){},setTotalCoins:function(){},coinsTotal:[],coinsFilter:[],updateCoinList:function(){}});function z(e){var t=e.children,n=Object(a.useState)(void 0),c=u()(n,2),o=c[0],l=c[1],i=Object(a.useState)([]),s=u()(i,2),p=s[0],m=s[1],f=Object(a.useState)([]),g=u()(f,2),d=g[0],h=g[1],b={auth:o,login:function(e){l(e)},logout:function(){l(void 0)},setTotalCoins:function(e){h(e)},coinsTotal:d,coinsFilter:p,updateCoinList:function(e){var t=[];m([]),d.forEach((function(n){n.percent_change_24h>=e&&t.push(n)})),m(t)}};return r.a.createElement(L.Provider,{value:b},t)}var T=function(){return Object(a.useContext)(L)},P=n(161);function A(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(P.a.getItem("coins"));case 3:return e=t.sent,t.abrupt("return",JSON.parse(e||[]));case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}function I(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(P.a.setItem("coins",JSON.stringify(e)));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)}var D=n(77);function N(){var e=T().updateCoinList,t=Object(a.useState)(""),n=u()(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),s=u()(i,2),p=s[0],m=s[1];return r.a.createElement(f.a,null,r.a.createElement(g.a,{style:{marginTop:30,marginLeft:12}},"Filter:"),r.a.createElement(f.a,{style:{marginTop:5,flexDirection:"row",marginLeft:12,marginRight:12}},r.a.createElement(D.a,{style:H.filter,inlineImageLeft:"search_icon",placeholder:"Minimum 24-hr % Change",autoCapitalize:"none",value:c,onChangeText:o}),r.a.createElement(l.a,{title:"Filter",style:H.btn,color:"#78909c",onPress:function(){e(c),m(c),o("")}})),r.a.createElement(g.a,{style:{marginTop:5,fontSize:15,marginLeft:12}},p))}var H=o.a.create({btn:{flex:.5,color:"#78909c"},filter:{flex:1,borderWidth:1,padding:10}});function F(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function B(){var e=T(),t=e.auth,n=e.coinsFilter,c=e.setTotalCoins,o=Object(a.useState)([]),l=u()(o,2),i=l[0],s=l[1];Object(a.useEffect)((function(){m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(p());case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[n]);var p=function(){var e,t,a,r,o;return m.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(!(n.length>0)){l.next=4;break}return console.log("coin filte: "+n[0].price_usd),s(n),l.abrupt("return");case 4:return l.prev=4,l.next=7,m.a.awrap(_());case 7:e=l.sent,t=[],a=F(e.data);case 10:if((r=a()).done){l.next=17;break}if(!((o=r.value).rank>50)){l.next=14;break}return l.abrupt("break",17);case 14:t.push({id:o.id,symbol:o.symbol,name:o.name,nameid:o.nameid,rank:o.rank,price_usd:o.price_usd,percent_change_24h:o.percent_change_24h,percent_change_1h:o.percent_change_1h,percent_change_7d:o.percent_change_7d,price_btc:o.price_btc,market_cap_usd:o.market_cap_usd,volume24:o.volume24,volume24a:o.volume24a,csupply:o.csupply,tsupply:o.tsupply,msupply:o.msupply});case 15:l.next=10;break;case 17:c(t),s(t),b(t),l.next=27;break;case 22:l.prev=22,l.t0=l.catch(4),console.log("local:"),v(),console.error(l.t0);case 27:case"end":return l.stop()}}),null,null,[[4,22]],Promise)};return r.a.createElement(d.a,null,r.a.createElement(f.a,null,t?r.a.createElement(O,{name:t.firstName}):r.a.createElement(g.a,null,"Welcome")),r.a.createElement(N,null),r.a.createElement(h.a,{style:{width:"100%",top:"200px",position:"absolute"},size:"large"}),r.a.createElement(f.a,{style:{backgroundColor:"#eceff1"}},r.a.createElement(k,{coins:i})));function b(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(I(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function v(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(A());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise));case 3:e=t.sent,c(e),s(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(error);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)}}var U=n(232),J=n(160),R="andres",M={username:"andreslab",firstName:"Andres",lastName:"Andrade",email:"andres@hotmail.com"},V={username:"demo",firstName:"Anonymous",lastName:"Anonymous",email:"Anonymous@hotmail.com"};function q(){var e=Object(a.useState)(""),t=u()(e,2),n=t[0],c=t[1],o=Object(E.k)(),i=T().login,s=Object(U.a)({initialValues:{username:""},validateOnChange:!1,validationSchema:J.a({username:J.b().required("User required")}),onSubmit:function(e){c(""),e.username!==R?c("Username invalid"):(i(M),o.navigate("Home"))}});return r.a.createElement(f.a,{style:$.content},r.a.createElement(g.a,{style:$.label}," User"),r.a.createElement(D.a,{style:$.input,placeholder:"Username",autoCapitalize:"none",value:s.values.username,onChangeText:function(e){return s.setFieldValue("username",e)}}),r.a.createElement(l.a,{title:"Log In",style:$.button,color:"#78909c",onPress:s.handleSubmit}),r.a.createElement(g.a,{style:$.error},s.errors.username||n),r.a.createElement(l.a,{title:"Skip",style:$.skip,color:"#78909c",onPress:function(){i(V),o.navigate("Home")}}),r.a.createElement(g.a,{style:{color:"#b0bec5",fontSize:20,textAlign:"center",marginTop:20}},"Help: username = andres or just click in skip button"))}var $=o.a.create({content:{marginTop:12},title:{textAlign:"center",fontSize:28,fontWeight:"bold",marginTop:50},label:{textAlign:"left",fontSize:15,marginLeft:12},input:{height:40,margin:12,borderWidth:1,padding:10,borderRadius:10},button:{marginHorizontal:12,color:"#78909c"},skip:{position:"absolute",bottom:50,color:"#78909c"},error:{textAlign:"center",color:"#f00",marginTop:20}});function G(){return r.a.createElement(d.a,null,r.a.createElement(q,null))}var K=n(44),Q=n(99);function X(e){var t=e.coin,n=t.percent_change_24h,a=t.percent_change_1h,c=t.percent_change_7d,o=t.price_usd,l=[Y(c,o),Y(n,o),Y(a,o)];console.log(l);var i=new Date,s=[i.getDate()-6,i.getDate()-1,i.getDate()],u={fontSize:10,fill:"grey"},p={top:10,bottom:10};return r.a.createElement(f.a,{style:{height:200,padding:20,flexDirection:"row"}},r.a.createElement(Q.d,{data:l,style:{marginBottom:30},contentInset:p,svg:u}),r.a.createElement(f.a,{style:{flex:1,marginLeft:10}},r.a.createElement(Q.b,{style:{flex:1},data:l,contentInset:p,svg:{stroke:"rgb(134, 65, 244)"}},r.a.createElement(Q.a,null)),r.a.createElement(Q.c,{style:{marginHorizontal:-10,height:30},data:l,formatLabel:function(e,t){return function(e){var t=new Date;return e+"/"+t.getMonth()}(s[t])},contentInset:{left:10,right:10},svg:u})))}function Y(e,t){return t-e/100*t}function Z(e){var t=e.route.params,n=Object(a.useState)(null),c=u()(n,2),o=c[0],l=c[1];Object(a.useEffect)((function(){m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(i());case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[t]);var i=function(){var e;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.a.awrap(j(t.id));case 3:e=n.sent,l(e[0]),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)};return o?(setInterval(s,3e4),r.a.createElement(K.a,null,r.a.createElement(g.a,{style:ee.symbol},Object(y.capitalize)(o.symbol)),r.a.createElement(X,{coin:o}),r.a.createElement(g.a,{style:ee.change},Object(y.capitalize)(o.percent_change_1h)))):null;function s(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("call...."),e.next=3,m.a.awrap(i());case 3:case"end":return e.stop()}}),null,null,null,Promise)}}var ee=o.a.create({symbol:{fontSize:50,paddingLeft:12},change:{fontSize:25,position:"absolute",right:10,top:10}}),te=Object(i.a)();function ne(){var e=T().logout,t=Object(E.k)();return r.a.createElement(te.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#78909c"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"}}},r.a.createElement(te.Screen,{name:"Log In",component:G,options:{tabBarLabel:"Login"}}),r.a.createElement(te.Screen,{name:"Home",component:B,options:{tabBarLabel:"Home",headerRight:function(){return r.a.createElement(l.a,{onPress:function(){e(),t.goBack()},title:"Log out",color:"#78909c"})},headerLeft:null}}),r.a.createElement(te.Screen,{name:"Detail",component:Z,options:{tabBarLabel:"Detail"}}))}o.a.create({btn:{color:"#000"},bar:{color:"#78909c"}});function ae(){return r.a.createElement(c.a,null,r.a.createElement(z,null,r.a.createElement(ne,null)))}},239:function(e,t,n){e.exports=n(373)}},[[239,1,2]]]);
//# sourceMappingURL=app.50d99688.chunk.js.map